<nav class="navbar navbar-expand-lg navbar-light bg-transparent">
	<a class="navbar-brand px-2" href="/">
		<img src="/static/logo4.svg" width="350" height="auto" alt="" />
	</a>
	<button
		class="navbar-toggler"
		type="button"
		data-toggle="collapse"
		data-target="#navbarNav"
		aria-controls="navbarNav"
		aria-expanded="false"
		aria-label="Toggle navigation"
	>
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarNav" style="user-select: none">
		<ul class="navbar-nav mr-auto">
			<li class="nav-item">
				<a
					class="nav-link"
					style="font-family: 'Roboto'; font-size: 28px; font-weight: 400; padding-top: 15px"
					href="/catalog"
					>КАТАЛОГ</a
				>
			</li>

			<li class="nav-item">
				<a
					class="nav-link"
					style="font-family: 'Roboto'; font-size: 28px; font-weight: 400; padding-top: 15px"
					href="/tests"
					>ТЕСТИРОВАНИЕ</a
				>
			</li>
			<li class="nav-item">
				<a
					class="nav-link"
					style="font-family: 'Roboto'; font-size: 28px; font-weight: 400; padding-top: 15px"
					href="/chat"
					>ЧАТ</a
				>
			</li>
			<!--
			{% if session['is_admin'] == True %}
			<li class="nav-item">
				<a
					class="nav-link"
					style="font-family: 'Roboto'; font-size: 28px; font-weight: 400; padding-top: 15px"
					href="/admin"
					>АДМИНИСТРИРОВАНИЕ</a
				>
			</li>
			{% endif %}
			-->
		</ul>

		<!--
		<div class="btn-group btn-lg mr-1 px-5">
			<button
				type="button"
				class="rounded-circle menu-button"
				data-toggle="dropdown"
				aria-haspopup="true"
				aria-expanded="false"
			>
				Меню
			</button>

			<div class="dropdown-menu">
				<a class="dropdown-item" href="/user/{{session['user_username']}}">Профиль</a>
				<a class="dropdown-item" href="/dashboard/notifications">Уведомления</a>
				<a class="dropdown-item" href="/dashboard/balance">Баланс</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="/dashboard">Настройки</a>
				<a class="dropdown-item" href="/logout">Выход</a>
			</div>
		</div> 
		-->

		{% if 'user_id' in session %} {% if account %}
		<div class="dropdown" style="width: 350px">
			<button
				class="btn btn-secondary dropdown-toggle"
				type="button"
				id="userDropdown"
				data-toggle="dropdown"
				aria-haspopup="true"
				aria-expanded="false"
			>
				{% if account.url %}
				<img
					src="{{ account.url }}"
					alt=""
					class="rounded-circle"
					style="width: 40px; height: 40px; font-size: 18px"
				/>
				{% else %}
				<div
					class="rounded-circle text-center"
					style="width: 40px; height: 40px; background-color: {{ account.color }}; color: #ffffff; font-size: 18px; line-height: 40px;"
				>
					<span class="no-select">{{ account.name|first|upper }}</span>
				</div>
				{% endif %}
			</button>
			<div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
				<a class="dropdown-item" href="/user/{{ session['user_username'] }}">Профиль</a>
				{% if account.role == "admin" %}
				<a class="dropdown-item" href="/admin">Кабинет администратора</a>
				{% elif account.role == "manager" %}
				<a class="dropdown-item" href="/manager">Кабинет менеджера</a>
				{% elif account.role == "teacher" %}
				<a class="dropdown-item" href="/teacher">Кабинет куратора</a>
				{% endif %}
				<a class="dropdown-item" href="/dashboard">Уведомления</a>
				<div class="dropdown-divider"></div>
				<a class="dropdown-item" href="/dashboard">Настройки</a>
				<a class="dropdown-item" href="/logout">Выход</a>
			</div>
		</div>
		{% endif %}{% else %}
		<ul class="navbar-nav ml-auto">
			<li class="nav-item mr-2">
				<a href="/login">
					<button type="button" class="btn btn-outline-primary">Войти</button>
				</a>
			</li>
			<li class="nav-item">
				<a href="/register">
					<button type="button" class="btn btn-outline-success">Регистрация</button>
				</a>
			</li>
		</ul>
		{% endif %}
	</div>
</nav>

<style>
	.menu-button {
		background: url("/static/users/questionmark.png") no-repeat;
		background-size: contain;
		width: 50px;
		height: 50px;
		border: none;
		cursor: pointer;
		color: transparent; /* Скрываем текст кнопки, делая его прозрачным */
	}
</style>

<style>
	.no-select {
		user-select: none;
	}
</style>
